{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\HP\\\\Desktop\\\\voice-inventory-complete\\\\client\\\\src\\\\components\\\\ZenBot.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './ZenBot.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ZenBot() {\n  _s();\n  const [messages, setMessages] = useState([{\n    from: 'bot',\n    text: 'Hi! I am ZenBot ðŸ¤–. Ask me about products, prices, quantities, or loyalty coins!'\n  }]);\n  const [input, setInput] = useState('');\n  const [products, setProducts] = useState([]);\n\n  // Load products on mount\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/products').then(res => setProducts(res.data)).catch(() => setProducts([]));\n  }, []);\n\n  // Add message to chat\n  const addMessage = (from, text) => {\n    setMessages(prev => [...prev, {\n      from,\n      text\n    }]);\n  };\n\n  // Handle predefined button clicks\n  const handleButtonClick = async type => {\n    if (type === 'products') {\n      if (products.length === 0) {\n        addMessage('bot', 'Sorry, no products available right now.');\n      } else {\n        const productNames = products.map(p => p.name).join(', ');\n        addMessage('bot', `We have these products: ${productNames}`);\n      }\n    } else if (type === 'loyalty') {\n      addMessage('bot', 'Loyalty coins are awarded on repeat purchases. Provide your name and contact in billing to earn coins!');\n    } else if (type === 'help') {\n      addMessage('bot', 'You can ask me about product prices, quantities, or loyalty coins. Try typing \"price of iPhone\" or click the buttons!');\n    }\n  };\n\n  // Handle user free text input\n  const handleUserQuery = async () => {\n    if (!input.trim()) return;\n    addMessage('user', input);\n    const lower = input.toLowerCase();\n\n    // Check for price queries: \"price of <product>\"\n    if (lower.includes('price')) {\n      const found = products.find(p => lower.includes(p.name.toLowerCase()));\n      if (found) {\n        addMessage('bot', `The price of ${found.name} is Rs. ${found.price.toFixed(2)}.`);\n      } else {\n        addMessage('bot', `Sorry, I couldn't find that product.`);\n      }\n    }\n    // Check for quantity queries: \"quantity of <product>\"\n    else if (lower.includes('quantity')) {\n      const found = products.find(p => lower.includes(p.name.toLowerCase()));\n      if (found) {\n        addMessage('bot', `We have ${found.quantity} units of ${found.name} available.`);\n      } else {\n        addMessage('bot', `Sorry, I couldn't find that product.`);\n      }\n    } else if (lower.includes('loyalty') || lower.includes('coin')) {\n      addMessage('bot', 'Loyalty coins are given on repeat purchases. Use the billing section and enter your details to earn coins!');\n    } else {\n      addMessage('bot', `Sorry, I didn't understand that. Please ask about product price, quantity or loyalty coins.`);\n    }\n    setInput('');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"zenbot-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"zenbot-messages\",\n      children: messages.map((msg, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `message ${msg.from}`,\n        children: msg.text\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"zenbot-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleButtonClick('products'),\n        children: \"Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleButtonClick('loyalty'),\n        children: \"Loyalty Coins\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleButtonClick('help'),\n        children: \"Help\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"zenbot-input\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Ask me something...\",\n        value: input,\n        onChange: e => setInput(e.target.value),\n        onKeyDown: e => {\n          if (e.key === 'Enter') handleUserQuery();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleUserQuery,\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n}\n_s(ZenBot, \"/coqP/z1rETVQce61MXY8Otksvk=\");\n_c = ZenBot;\nexport default ZenBot;\nvar _c;\n$RefreshReg$(_c, \"ZenBot\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","ZenBot","_s","messages","setMessages","from","text","input","setInput","products","setProducts","get","then","res","data","catch","addMessage","prev","handleButtonClick","type","length","productNames","map","p","name","join","handleUserQuery","trim","lower","toLowerCase","includes","found","find","price","toFixed","quantity","className","children","msg","idx","fileName","_jsxFileName","lineNumber","columnNumber","onClick","placeholder","value","onChange","e","target","onKeyDown","key","_c","$RefreshReg$"],"sources":["C:/Users/HP/Desktop/voice-inventory-complete/client/src/components/ZenBot.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './ZenBot.css';\r\n\r\nfunction ZenBot() {\r\n  const [messages, setMessages] = useState([\r\n    { from: 'bot', text: 'Hi! I am ZenBot ðŸ¤–. Ask me about products, prices, quantities, or loyalty coins!' }\r\n  ]);\r\n  const [input, setInput] = useState('');\r\n  const [products, setProducts] = useState([]);\r\n\r\n  // Load products on mount\r\n  useEffect(() => {\r\n    axios.get('http://localhost:5000/api/products')\r\n      .then(res => setProducts(res.data))\r\n      .catch(() => setProducts([]));\r\n  }, []);\r\n\r\n  // Add message to chat\r\n  const addMessage = (from, text) => {\r\n    setMessages(prev => [...prev, { from, text }]);\r\n  };\r\n\r\n  // Handle predefined button clicks\r\n  const handleButtonClick = async (type) => {\r\n    if (type === 'products') {\r\n      if (products.length === 0) {\r\n        addMessage('bot', 'Sorry, no products available right now.');\r\n      } else {\r\n        const productNames = products.map(p => p.name).join(', ');\r\n        addMessage('bot', `We have these products: ${productNames}`);\r\n      }\r\n    }\r\n    else if (type === 'loyalty') {\r\n      addMessage('bot', 'Loyalty coins are awarded on repeat purchases. Provide your name and contact in billing to earn coins!');\r\n    }\r\n    else if (type === 'help') {\r\n      addMessage('bot', 'You can ask me about product prices, quantities, or loyalty coins. Try typing \"price of iPhone\" or click the buttons!');\r\n    }\r\n  };\r\n\r\n  // Handle user free text input\r\n  const handleUserQuery = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    addMessage('user', input);\r\n\r\n    const lower = input.toLowerCase();\r\n\r\n    // Check for price queries: \"price of <product>\"\r\n    if (lower.includes('price')) {\r\n      const found = products.find(p => lower.includes(p.name.toLowerCase()));\r\n      if (found) {\r\n        addMessage('bot', `The price of ${found.name} is Rs. ${found.price.toFixed(2)}.`);\r\n      } else {\r\n        addMessage('bot', `Sorry, I couldn't find that product.`);\r\n      }\r\n    }\r\n    // Check for quantity queries: \"quantity of <product>\"\r\n    else if (lower.includes('quantity')) {\r\n      const found = products.find(p => lower.includes(p.name.toLowerCase()));\r\n      if (found) {\r\n        addMessage('bot', `We have ${found.quantity} units of ${found.name} available.`);\r\n      } else {\r\n        addMessage('bot', `Sorry, I couldn't find that product.`);\r\n      }\r\n    }\r\n    else if (lower.includes('loyalty') || lower.includes('coin')) {\r\n      addMessage('bot', 'Loyalty coins are given on repeat purchases. Use the billing section and enter your details to earn coins!');\r\n    }\r\n    else {\r\n      addMessage('bot', `Sorry, I didn't understand that. Please ask about product price, quantity or loyalty coins.`);\r\n    }\r\n\r\n    setInput('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"zenbot-container\">\r\n      <div className=\"zenbot-messages\">\r\n        {messages.map((msg, idx) => (\r\n          <div key={idx} className={`message ${msg.from}`}>\r\n            {msg.text}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"zenbot-buttons\">\r\n        <button onClick={() => handleButtonClick('products')}>Products</button>\r\n        <button onClick={() => handleButtonClick('loyalty')}>Loyalty Coins</button>\r\n        <button onClick={() => handleButtonClick('help')}>Help</button>\r\n      </div>\r\n      <div className=\"zenbot-input\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Ask me something...\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyDown={e => { if (e.key === 'Enter') handleUserQuery(); }}\r\n        />\r\n        <button onClick={handleUserQuery}>Send</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ZenBot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}